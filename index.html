<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Design your dream engagement ring">
    <title>For Maria üíç</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-spinner"></div>
        <p class="loading-text">Creating your dream ring...</p>
    </div>

    <!-- Screen 1: Landing Page -->
    <section id="landingScreen" class="screen active">
        <div class="container">
            <div class="landing-content">
                <h1 class="landing-title fade-in">Maria</h1>
                <p class="landing-subtitle fade-in-delay">Design Your Forever Ring</p>
                <p class="landing-description fade-in-delay-2">
                    This moment is yours to create something as unique and beautiful as our love.
                    Choose a design that speaks to your heart, or dream up something entirely your own.
                </p>
                <button class="btn btn-primary fade-in-delay-3" onclick="app.showScreen('choiceScreen')">
                    Begin Your Journey
                </button>
            </div>
        </div>
        <div class="landing-particles"></div>
    </section>

    <!-- Screen 2: Choice Between Browse and Design -->
    <section id="choiceScreen" class="screen">
        <div class="container">
            <h2 class="screen-title">How Would You Like to Begin?</h2>
            <div class="choice-cards">
                <div class="choice-card" onclick="app.showScreen('galleryScreen')">
                    <div class="choice-icon">‚ú®</div>
                    <h3>Browse Designs</h3>
                    <p>Explore a curated collection of timeless ring designs</p>
                    <button class="btn btn-secondary">Browse Gallery</button>
                </div>
                <div class="choice-card" onclick="app.showScreen('designerScreen')">
                    <div class="choice-icon">üíé</div>
                    <h3>Design Your Dream Ring</h3>
                    <p>Describe your perfect ring and watch AI bring it to life</p>
                    <button class="btn btn-secondary">Start Designing</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Screen 3: Gallery (Browse Path) -->
    <section id="galleryScreen" class="screen">
        <div class="container">
            <button class="btn-back" onclick="app.showScreen('choiceScreen')">‚Üê Back</button>
            <h2 class="screen-title">Curated Ring Designs</h2>
            <p class="screen-subtitle">Each design tells a unique story. Which one speaks to yours?</p>

            <div class="gallery-grid" id="galleryGrid">
                <!-- Ring cards will be generated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Screen 4: AI Designer (Design Path) - Conversation Style -->
    <section id="designerScreen" class="screen">
        <div class="container">
            <button class="btn-back" onclick="app.showScreen('choiceScreen')">‚Üê Back</button>
            <h2 class="screen-title">Design Your Dream Ring</h2>
            <p class="screen-subtitle">Describe your perfect engagement ring and refine it through conversation</p>

            <!-- Ring Guide Helper -->
            <div class="ring-guide-toggle">
                <button class="btn-guide" onclick="app.toggleGuide()">
                    üíé Ring Terminology Guide
                </button>
            </div>
            <div class="ring-guide" id="ringGuide" style="display: none;">
                <div class="guide-section">
                    <h4>Diamond Shapes</h4>
                    <div class="guide-chips" id="guideShapes"></div>
                </div>
                <div class="guide-section">
                    <h4>Settings</h4>
                    <div class="guide-chips" id="guideSettings"></div>
                </div>
                <div class="guide-section">
                    <h4>Metals</h4>
                    <div class="guide-chips" id="guideMetals"></div>
                </div>
            </div>

            <!-- Conversation Container -->
            <div class="design-conversation" id="designConversation">
                <!-- Initial prompt area (shown when no designs yet) -->
                <div class="initial-prompt" id="initialPrompt">
                    <div class="designer-form">
                        <label for="ringDescription">Describe your dream engagement ring:</label>
                        <textarea
                            id="ringDescription"
                            placeholder="Example: A round brilliant diamond solitaire on a thin platinum band with a hidden halo underneath..."
                            maxlength="500"
                            rows="4"
                        ></textarea>
                        <div class="char-counter">
                            <span id="charCount">0</span> / 500 characters
                        </div>

                        <div class="example-prompts">
                            <p class="example-label">Quick start ideas:</p>
                            <div class="prompt-chips">
                                <button class="chip" onclick="app.fillExample(0)">Round Solitaire</button>
                                <button class="chip" onclick="app.fillExample(1)">Oval Halo</button>
                                <button class="chip" onclick="app.fillExample(2)">Vintage Art Deco</button>
                            </div>
                        </div>

                        <button class="btn btn-primary" onclick="app.generateRing()" id="generateBtn">
                            Create My Ring ‚ú®
                        </button>
                    </div>
                </div>

                <!-- Conversation History (shown after first generation) -->
                <div class="conversation-history" id="conversationHistory" style="display: none;">
                    <!-- Messages will be inserted here -->
                </div>

                <!-- Refinement Input (shown after first generation) -->
                <div class="refinement-input" id="refinementInput" style="display: none;">
                    <div class="refinement-form">
                        <input
                            type="text"
                            id="refinementText"
                            placeholder="Refine your design: 'make the band thinner' or 'add sapphire side stones'..."
                            maxlength="200"
                        >
                        <button class="btn btn-primary btn-refine" onclick="app.refineDesign()">
                            Refine ‚ú®
                        </button>
                    </div>
                    <div class="refinement-actions">
                        <button class="btn btn-secondary" onclick="app.selectCurrentDesign()">
                            I Love This! üíï
                        </button>
                        <button class="btn-reset" onclick="app.startOver()">
                            Start Over
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Screen 5: Preview & Confirmation -->
    <section id="previewScreen" class="screen">
        <div class="container">
            <h2 class="screen-title">Your Perfect Ring</h2>
            <p class="screen-subtitle">Take a moment to imagine this on your hand...</p>

            <div class="preview-content">
                <div class="preview-image-container">
                    <img id="previewImage" src="" alt="Your ring design">
                </div>

                <div class="preview-details">
                    <h3>Design Details</h3>
                    <p id="previewDescription"></p>

                    <div class="preview-actions">
                        <button class="btn btn-primary" onclick="app.confirmDesign()">
                            This is Perfect! üíï
                        </button>
                        <button class="btn btn-secondary" onclick="app.goBack()">
                            Let me revise
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Screen 6: Thank You / Confirmation -->
    <section id="thankYouScreen" class="screen">
        <div class="container">
            <div class="thankyou-content">
                <div class="thankyou-icon">üíç</div>
                <h2 class="thankyou-title">Your Design Has Been Saved!</h2>
                <p class="thankyou-message">
                    Maria, your beautiful choice has been captured.
                    This ring will be crafted with all the love and care you deserve.
                    I can't wait to see it on your hand and hear you say yes.
                </p>
                <div class="thankyou-ring-preview">
                    <img id="finalRingImage" src="" alt="Your chosen ring">
                </div>
                <p class="thankyou-note">
                    All the love in the world,<br>
                    <span class="signature">Forever Yours</span>
                </p>
            </div>
        </div>
    </section>

    <!-- Scripts -->
    <script src="config.js"></script>
    <script src="js/fal-api.js"></script>
    <script src="js/firebase-client.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
